# 旧模版转V5模版

## V5模版的改进了什么

* 模版独立语言包和系统分离,采用GetTEXT翻译文件进行翻译,更易于本地化和语言整理
* 采用地址生成器,统一化地址生成和显示,易于个性化URL选择和伪静态,更易于搜索引擎收录
* 新增了验证码系统位置,需要补充否则表单无法提交
* 优化了一些页面的个性化选择需要适配
* 废除自定义静态文件地址,增加模版安全模式

按照以下文档你可以快速的适配将旧模版转换为V5适配模版继续使用并体验更多功能

## 转换V5语言包

我们提供了2种方法进行转换.

### 手动转换

你必须要了解如何进行手动转换,来帮助你解决之后遇到的问题.

原模版语言包使用方法是 `{$lang['服务器状态']}` 你需要修改标识名为 `{__('服务器状态')}` 

要注意! `__()` *前面是2个`_`*

### 自动转换

一般情况下手动转换你会发现你有大量的页面需要转换产生大量的不便,为了方便原来对旧模版就已经支持本地化的模版,我们制作了转换脚本

* 点击[此处下载](https://github.com/shiyunjin/SWAPIDC-Docs/tree/Template2V5)

* 使用方法

使用`Python3`并在安装时选择添加到PATH变量中,请将模版目录拷贝到模版同目录 *记得备份旧模版,防止转换失败*

```bash
convert.py -i <inputdir>
```

* 注意事项

转换后肯定会出现一些页面的语法错误,原因如下

`{$lang[$buy['周期']]}` 经过脚本转换后转换为 `{__($buy['周期')]}` 你需要手动修改为 `{__($buy['周期'])}` 来修正它